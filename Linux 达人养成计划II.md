学习慕课网《Linux 达人养成计划II》教程的笔记。
本教程简单的介绍了vim编辑器，磁盘管理和一些用户管理的操作命令。

[TOC]

## 1-1 vim编辑器概述

## 1-2 vim编辑器的操作模式
Command Mode-命令模式：等待用户输入命令。
Insert Mode-输入模式：用于输入文本。
Last Line Mode-底行模式：可以输入指令，也算一种命令模式。


## 1-3 vim编辑器的命令模式
vim + filename 光标在最后一行， +n 光标在第n行。
vim +/context filename 光标在文件中定位到第一次出现context的地方。

## 1-4 底行模式和命令模式的常用指令
底行模式命令：
命令|作用
:---:|-----
:w|把文件的修改从内存写到硬盘中。
:q|退出
:!|强制执行
:ls |列出打开的所以文件
:n|切换到下一个文件
:N|切换到前一个文件
:15|定位光标到第15行，可以是其他的数字
/xxx|从光标位置向后搜索xxx字符串(按n可以定位到下一个位置)
?xxx|向前搜索xxx字符串

命令模式：
命令|作用
:---:|:-----
h， j， k， l| 左，下，上， 右
ctrl+f(front)， b(back)， d(down)， u(up) | 下翻页，上翻页，下翻半页， 上翻半页
dd|
yy|
p|
P|

简单列举了一些，需要在网上搜索。

## 2-1 磁盘管理基本命令
命令|作用
:-:|:--
__df -l__ |__查看磁盘文件分区使用情况，仅显示本地磁盘(默认)__
df -a |显示所有文件系统的磁盘使用情况，比如：/proc/
df -h |以1024为进制显示文件大小
df -H |以1000为进制显示文件大小
df -T |显示磁盘分区类型
df -t |只显示指定类型文件系统的磁盘分区,需要跟参数如ext4
df -x |不显示指定类型文件系统的磁盘分区，需要跟参数如ext4
__du__|__统计磁盘的文件大小__
du -b|以byte为单位统计文件的大小
du -k|以KB为单位统计文件的大小
du -m|以MB为单位统计文件的大小
du -h|以1024为进制显示文件大小，一般使用这个，不使用前面的
du -H|以1000为进制显示文件大小
du -s|指定统计目标

## 2-2 硬盘分区和格式化概述
## 2-3 在虚拟机中添加硬盘
## 2-4 MBR分区
__fdisk 硬盘分区工具，只能给硬盘做MBR分区。__
最后需要使用w命令写到硬盘中。
使用命令分区可查看此视频！！！！！！！

## 2-5 GPT分区
__分区模式之MBR：主分区不能超过4个，单个分区最大2TB。比较老！！！！__

__分区模式之GPT：主分区个数几乎没限制(GPT分区表最多支持128个主分区)，单个分区容量几乎没限制(最大支持18EB)。__ 

GPT分区中不适合安装X86架构的系统。

parted工具，既可以做MBR分区也可以做GPT分区。
工具的使用可以看此视频。

## 2-6 分区的格式化
__分区之后需要把分区信息写到文件中，然后需要进行格式化才可以。__
格式化命令是：mkfs。  mkfs -t ext4 /dev/sdb2 , 文件格式，分区。

## 2-7 挂载分区
__格式化之后，需要挂载才可以使用。__

>__新硬盘添加到服务器中后需要创建分区，格式化分区，挂载分区之后才可以使用，这些步骤缺一不可。__

操作/etc/fstab文件可实现自动挂载。

## 2-8 swap分区
添加交换分区：

1. 建立一个普通的Linux分区
2. 修改分区类型的16进制编码
3. 格式化交换分区
4. 启用交换分区。

mkswap 格式化交换分区。

## 3-1 用户和用户组的概念
用户：就是使用操作系统的人。
用户组：具有相同系统权限的一组用户。
__/etc/group：__存储当前系统中所以用户组的信息。

每一行的信息：
Group|    x     | 123 |abc,xyz
:---:|:--------:|:---:|:-:
组名称|组密码占位符|组编号|组中用户名列表

__/etc/gshadow：__存储当前系统中的用户组的密码信息。每一行和group对应。
Group|  '*！'表示为空  |      |abc,xyz
:---:|:---:|:----:|:-:
组名称|组密码|组管理者|组中用户名列表

__/etc/passwd：__存储当前系统中的所有用户的相关信息。一行一个用户。
user|  x |123|456|xxxxxx|/home/user |bin/bash
:---:|:---:|:----:|:-:|:-:|:-:|:-:
用户名|密码占位符|用户编号|用户组编号|用户注释信息|用户主目录|shell类型

__/etc/shadow：__存储当前系统中的所有用户的密码信息。
user|  password(加密的) | ...
:---:|:---:|:----:
用户名|密码|...


## 3-2 用户和用户组的基本命令
groupadd name ； 添加用户组，后面加上名字。
groupmod -n makr name， name->makr
选项|作用
--|---
-n |改名字
-g |改用户组的编号

groupdel 删除用户组，首先需要删除用户才行。

useradd添加用户， usermod修改用户。
选项|作用
---|----
-g |添加到用户组。
-d |设置用户文件夹。
-c |添加用户注释信息
-l |修改用户名， 新的写在前面，

userdel 删除用户名， -r同时删除个人文件夹。

没有指定用户组，系统会自动创建和用户名相同的用户组。

__创建/etc/nologin文件，可以禁止除了root账户以外的其他用户登录服务器。__


## 3-3 用户和用户组命令进阶
| | |
--|---
锁定账户：|passwd -l 用户名。
解锁账户：|passwd -u 用户名。
清除密码：|passwd -d 用户名。 实现无密码登录。

用户可是属于多个用户组，一个组是主要组，其余是附属组。

gpasswd -a 用户名 组名；添加附属组。

进行操作默认是主要组的，需要临时切换到附属组进行操作，使用newgrp 组名，切换临时组，__此时使用组密码进行确认__。
命令|作用
--|---
gpasswd -d 用户名 组名 | 删除附属组。
useradd -g 主要组 -G 附属组1,附属组2.....|
gpasswd 组名称 | 可是设置组密码。


## 3-4 其他命令
| | |
--|--
su  username |切换到其他用户。
whoami |
id 用户名|
groups|
chfn 用户名  | 设置详细资料
finger 用户名| 显示详细资料
